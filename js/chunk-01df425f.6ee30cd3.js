(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01df425f"],{"0d98":function(t,e,a){"use strict";a("e628")},a15b:function(t,e,a){"use strict";var n=a("23e7"),s=a("e330"),r=a("44ad"),o=a("fc6a"),i=a("a640"),c=s([].join),l=r!=Object,u=i("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return c(o(this),void 0===t?",":t)}})},c740:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").findIndex,r=a("44d2"),o="findIndex",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},d4e6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"wrapper",attrs:{id:"step-3"}},[t._m(0),0==t.astronomicalObj.length?a("section",[t._m(1)]):t._e(),t.astronomicalObj.length>0?a("section",[a("div",{staticClass:"layout-narrow"},[a("h4",[t._v("Choose one from "+t._s(t.astronomicalObj.length)+" astronomical objects")])]),a("div",{staticClass:"objects layout-mid"},t._l(t.astronomicalObj,(function(e,n){return a("div",{key:n,staticClass:"obj",class:{active:e.friendly_name===t.astronomicalObjSelected.friendly_name}},[a("details",{attrs:{tabindex:"0"}},[a("summary",[a("div",{class:t.makeClassName(e.kind)})]),a("div",{staticClass:"obj-expand"},[a("ul",[a("li",[a("b",[t._v(t._s(e.friendly_name))])]),a("li",[t._v(t._s(e.kind))]),a("li",[t._v(t._s(e.catalog_name))])]),e.friendly_name!==t.astronomicalObjSelected.friendly_name?a("div",{staticClass:"obj-select"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.setObjFromDetails(e)}}},[t._v("Select this object")])]):t._e()])])])})),0)]):t._e(),t.$store.state.app.account&&t.astronomicalObjSelected&&t.nftStatus?a("section",{staticClass:"order layout-narrow"},[a("h2",[t._v("Your order")]),a("ul",{staticClass:"dashed tablelike"},[a("li",[a("span",[t._v("Account:")]),a("span",{domProps:{innerHTML:t._s(t.addressShort(t.$store.state.app.account))}})]),a("li",[a("span",[t._v("Object:")]),a("span",[t._v(t._s(t.astronomicalObjSelected.friendly_name)+" - "+t._s(t.astronomicalObjSelected.kind))])]),a("li",[a("span",[t._v("Status:")]),"done"!==t.nftStatus&&null!==t.nftStatus?a("div",[a("p",[a("Loader"),a("span",[t._v(t._s(t.nftStatus))])],1),a("p",[a("a",{attrs:{href:"https://singular.app/space/"+t.$store.state.app.account+"?tab=owned&owner=yes",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Check your NFT(s) ")])])]):t._e(),"done"===t.nftStatus?a("div",[a("p",{staticClass:"title-checked"},[t._v(t._s(t.nftStatus))])]):t._e()]),a("li",[a("span",[t._v("Your next steps:")]),a("div",[a("p",{staticClass:"order-servicelinks"},[a("a",{attrs:{href:"https://singular.app/space/"+t.$store.state.app.account+"?tab=owned&owner=yes",target:"_blank",rel:"noopener noreferrer",title:"Check your NFT(s)"}},[a("i-singular",{staticClass:"logo"})],1),a("a",{attrs:{href:"https://twitter.com/intent/tweet?text=âœ¨%20Just%20got%20my%20%23NFT%20with%20"+t.astronomicalObjSelected.kind+"%20"+t.astronomicalObjSelected.friendly_name+"%20from%20online%20telescope%20in%20Atacama%20desert&url=https%3A%2F%2Ftelescope.merklebot.com/%23/?referrer="+t.address,target:"_blank",rel:"noopener noreferrer",title:"Share on Twitter"}},[a("i-twitter",{staticClass:"logo"})],1),a("a",{attrs:{href:t.$discord,target:"_blank",rel:"noopener noreferrer",title:"Chat with us in Discord"}},[a("i-discord",{staticClass:"logo"})],1)])])])])]):t._e(),t.astronomicalObj.length>0?a("section",{staticClass:"order-form layout-narrow"},[a("form",[a("p",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.astronomicalObjSelected,expression:"astronomicalObjSelected"}],staticClass:"container-full",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.astronomicalObjSelected=e.target.multiple?a:a[0]}}},[t._l(t.astronomicalObj,(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(" "+t._s(e.friendly_name)+" ")])})),0===t.astronomicalObj.length?a("option",[t._v("Loading...")]):t._e()],2)]),a("p",[a("Button",{staticClass:"container-full",attrs:{disabled:!t.submitStatus},nativeOn:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._v("Submit")])],1),t.submitMessage?a("p",{staticClass:"error-title text-small",domProps:{innerHTML:t._s(t.submitMessage)}}):t._e()])]):t._e(),a("Stars")],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-narrow"},[a("h3",[t._v("3. Enjoy the stars")]),a("p",{staticClass:"hyphens"},[t._v("Choose an astronomical object below and hit the submit button. The telescope will start moving and will mint your NFT in a few minutes.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-narrow"},[a("h4",[t._v("Please wait for astronomical objects on the sky. Now they are all invisible")])])}],r=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("c740"),a("a15b"),a("ac1f"),a("1276"),a("fb6a"),a("7424")),i=a("ef36"),c=a("db49"),l={props:{address:String},data:function(){return{nftPrice:null,astronomicalObjSelected:[],submitStatus:!0,submitMessage:null,nftStatus:null,orderStatusPollingTimeoutId:null}},components:{Button:function(){return a.e("chunk-30873066").then(a.bind(null,"e0dab"))},Stars:function(){return a.e("chunk-3aa17dd8").then(a.bind(null,"09be"))},iSingular:function(){return a.e("chunk-675cd95a").then(a.bind(null,"b3c8"))},iTwitter:function(){return a.e("chunk-d618418c").then(a.bind(null,"4abc"))},iDiscord:function(){return a.e("chunk-34995a90").then(a.bind(null,"a30a"))},Loader:function(){return a.e("chunk-3bb11cb0").then(a.bind(null,"2876"))}},computed:{astronomicalObj:function(){return this.$store.state.astronomicalObjects?this.$store.state.astronomicalObjects:[]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["e"])();case 2:t.nftPrice=e.sent;case 3:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearTimeout(this.orderStatusPollingTimeoutId)},watch:{astronomicalObj:function(){this.astronomicalObj.length>0&&(0===this.astronomicalObjSelected.length||this.getSelectedIndex()<0)&&(this.astronomicalObjSelected=this.astronomicalObj[0])},submitStatus:function(){var t=this;this.submitStatus||setTimeout((function(){t.submitStatus=!0,t.submitMessage=null}),1e4)}},methods:{getSelectedIndex:function(){var t=this;return this.astronomicalObj.findIndex((function(e){var a=e.catalog_name;return a===t.astronomicalObjSelected.catalog_name}))},onSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.submitMessage=null,t.submitStatus=!1,"off"===t.$store.state.service.status&&(t.submitMessage="Please wait for the telescope to turn on"),t.$store.state.app.balance<1&&(t.submitMessage='Please <a href="#step-2">buy $STRGZN tokens</a>'),t.$store.state.app.account&&"extension ready"===t.$store.state.app.status||(t.submitMessage='Please <a href="#step-1">connect your account</a>'),"off"!==t.$store.state.service.status&&t.$store.state.app.account&&"extension ready"===t.$store.state.app.status&&!(t.$store.state.app.balance<25)){e.next=7;break}return e.abrupt("return");case 7:return t.nftStatus="Waiting for STRGZN spending transaction...",e.next=10,Object(i["e"])(t.$store.state.app.account,c["a"].ACCESS_TOKEN_RECV_ACCOUNT,c["a"].ID_ASSET,25);case 10:if(a=e.sent,a){e.next=14;break}return t.submitMessage="Tokens not sent. Please, contact us or try later",e.abrupt("return");case 14:return t.nftStatus="STRGZN sent. Waiting for the telescope response...",e.next=17,Object(o["c"])(t.$store.state.app.account,t.astronomicalObjSelected.catalog_name);case 17:n=e.sent,console.log("Create NFT:",n),s=n.data,t.$store.commit("setActiveOrder",s),r=function e(){var a;switch(t.$store.dispatch("updateActiveOrder"),null===(a=t.$store.state.order)||void 0===a?void 0:a.status){case"created":t.nftStatus="Aiming the telescope on ".concat(t.$store.state.order.astronomical_object_catalog_name,"...");break;case"observed":t.nftStatus="Image captured, uploading...";break;case"uploaded":t.nftStatus="Image and NFT metadata uploaded. Minting NFT at RMRK...";break;case"minted":t.nftStatus="New NFT created on RMRK platform. Sending...";break;case"delivered":return t.nftStatus="done",t.submitStatus=!0,clearTimeout(t.orderStatusPollingTimeoutId),void t.$store.commit("setActiveOrder",null);case"delayed":return t.nftStatus="Your order is delayed because the object ordered went out of the field of view. We are sorry about that. We will mint this NFT in the next night.",clearTimeout(t.orderStatusPollingTimeoutId),t.$store.commit("setActiveOrder",null),void(t.submitStatus=!0);case null:case void 0:default:return console.error("Bad active order:",t.$store.order),t.nftStatus="Unexpected error. Please contact us by Discord or by email.",clearTimeout(t.orderStatusPollingTimeoutId),t.$store.commit("setActiveOrder",null),void(t.submitStatus=!0)}t.orderStatusPollingTimeoutId=setTimeout(e,3e3)},setTimeout(r,1e3);case 23:case"end":return e.stop()}}),e)})))()},makeClassName:function(t){return t.split(" ").join("")},setObjFromDetails:function(t){this.astronomicalObjSelected=t,event.target.closest("details").open=!1},jump:function(t){window.scrollTo({top:document.querySelector(t).offsetTop,behavior:"smooth"})},addressShort:function(t){return t.slice(0,6)+"..."+t.slice(-4)}}},u=l,d=(a("0d98"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,"09567c87",null);e["default"]=m.exports},e628:function(t,e,a){}}]);
//# sourceMappingURL=chunk-01df425f.6ee30cd3.js.map