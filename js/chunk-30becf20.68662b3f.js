(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30becf20"],{"0f4f":function(t,e,n){"use strict";n("80a2")},"22fa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",{staticClass:"text-left"},[t._v("Purchase $STRGZN Tokens:")]),n("section",{staticClass:"section-blue-darkest section-colored purchase-quantity"},[n("div",{staticClass:"inputNumbers m-b-space"},[n("div",{staticClass:"less",on:{click:function(e){return t.setQuantity(-t.pricePerNftInStrgzn)}}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{id:"strgzn_quantity",type:"number",value:"quantity",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"more",on:{click:function(e){return t.setQuantity(t.pricePerNftInStrgzn)}}},[t._v("+")])]),n("div",[t._v("$STRGZN")])]),n("ul",{staticClass:"switch switch-section"},[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMethod,expression:"paymentMethod"}],attrs:{type:"radio",name:"payment_method",value:"Card",id:"Card"},domProps:{checked:"Card"==t.paymentMethod,checked:t._q(t.paymentMethod,"Card")},on:{change:function(e){t.paymentMethod="Card"}}}),n("label",{attrs:{for:"Card"}},[t._v("Credit Card")])]),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMethod,expression:"paymentMethod"}],attrs:{type:"radio",name:"payment_method",value:"KSM",id:"KSM"},domProps:{checked:"KSM"==t.paymentMethod,checked:t._q(t.paymentMethod,"KSM")},on:{change:function(e){t.paymentMethod="KSM"}}}),n("label",{attrs:{for:"KSM"}},[t._v("$KSM")])])]),"Card"===t.paymentMethod?n("form",{class:{disabled:"extension ready"!==t.extensionStatus},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("section",{staticClass:"section-blue-darkest section-colored bil"},[n("div",[t._v("Total: "+t._s(t.total)+" USD")])]),n("Button",{staticClass:"container-full",attrs:{size:"medium",disabled:!t.checkoutStatus}},[n("span",{staticClass:"text"},[t._v("Pay with")]),n("img",{staticClass:"label",attrs:{alt:"Stripe",src:"i/stripe.svg"}})])],1):t._e(),"KSM"===t.paymentMethod?n("form",{class:{disabled:"extension ready"!==t.extensionStatus},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("section",{staticClass:"section-blue-darkest section-colored bil"},[n("div",[t._v("Your balance: "+t._s(t.formatBalance(t.ksmBalance,t.decimalsRoundKsm))+" Statemine KSM")]),t.pricePerStrgznInPicoKsm?n("div",[t._v("Total: "+t._s(t.total)+" Statemine KSM")]):n("div",[t._v("Total: loading price...")])]),n("Button",{staticClass:"container-full",attrs:{size:"medium",disabled:!t.checkoutStatus||!t.pricePerStrgznInPicoKsm||!t.isEnoughBalance}},[n("span",{staticClass:"text"},[t._v("Sign")])])],1):t._e(),t.showTransactionInfo?n("TransactionInfoModal",{attrs:{isCreated:!!t.checkoutCryptoTxInfo&&!!t.checkoutCryptoTxInfo.created,isIncluded:!!t.checkoutCryptoTxInfo&&!!t.checkoutCryptoTxInfo.included,isFinalized:!!t.checkoutCryptoTxInfo&&!!t.checkoutCryptoTxInfo.finalized,asCreated:t.checkoutCryptoTxInfo?t.checkoutCryptoTxInfo.created:null,asIncluded:t.checkoutCryptoTxInfo?t.checkoutCryptoTxInfo.included:null,asFinalized:t.checkoutCryptoTxInfo?t.checkoutCryptoTxInfo.finalized:null},on:{closed:function(e){return t.onTransactionInfoClosed()}}}):t._e()],1)},i=[],o=n("1da1"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("8ba4"),n("b680"),{name:"PurchaseToken",components:{Button:function(){return n.e("chunk-30873066").then(n.bind(null,"e0dab"))},TransactionInfoModal:function(){return n.e("chunk-4a62ce56").then(n.bind(null,"2c23"))}},props:{extensionStatus:{type:String,default:"loading"},checkoutStatus:Boolean,checkoutCryptoTxInfo:Object,jumpToExtensionSetupFunction:Function,submitHandler:Function,pricePerNftInStrgzn:Number,tokensPurchaseMinMax:Object,pricePerStrgznInCents:Number,pricePerStrgznInPicoKsm:Number,defaultQuantity:Number,picoKsmBalance:Number},data:function(){return{quantity:this.defaultQuantity,paymentMethod:"Card",showTransactionInfo:!1,decimalsRoundUsd:2,decimalsRoundKsm:6}},methods:{handleSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.submitHandler(t.paymentMethod,t.quantity,t.total);case 1:case"end":return e.stop()}}),e)})))()},setQuantity:function(t){this.quantity+t>=this.tokensPurchaseMinMax.max||this.quantity+t<=this.tokensPurchaseMinMax.min||(this.quantity+=t)},onTransactionSigned:function(){this.showTransactionInfo=!0},onTransactionInfoClosed:function(){this.showTransactionInfo=!1,this.$emit("resetCheckoutCryptoTxInfo")},formatBalance:function(t,e){var n=Number(t);return Number.isInteger(n)?n:parseFloat(n.toFixed(e))}},computed:{ksmBalance:function(){return this.pricePerStrgznInPicoKsm*Math.pow(10,-12)},total:function(){if("Card"===this.paymentMethod)return this.formatBalance(this.quantity*this.pricePerStrgznInCents/100,this.decimalsRoundUsd);if("KSM"===this.paymentMethod)return this.formatBalance(this.quantity*this.ksmBalance,this.decimalsRoundKsm);throw new Error("Unexpected payment method",this.paymentMethod)},isEnoughBalance:function(){return this.picoKsmBalance-.001*Math.pow(10,12)>this.pricePerStrgznInPicoKsm*this.quantity}}}),r=s,c=(n("0f4f"),n("2877")),u=Object(c["a"])(r,a,i,!1,null,"38869ab8",null);e["default"]=u.exports},"80a2":function(t,e,n){},"8ba4":function(t,e,n){var a=n("23e7"),i=n("eac5");a({target:"Number",stat:!0},{isInteger:i})},eac5:function(t,e,n){var a=n("861d"),i=Math.floor;t.exports=Number.isInteger||function(t){return!a(t)&&isFinite(t)&&i(t)===t}}}]);
//# sourceMappingURL=chunk-30becf20.68662b3f.js.map