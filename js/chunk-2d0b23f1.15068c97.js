(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b23f1"],{"22fa":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Purchase tokens")]),n("toggle-switch",{attrs:{options:t.options,disabled:!1},on:{change:function(e){return t.updatePaymentMethod(e.value)}}}),"extension ready"!==t.extensionStatus?n("p",{staticClass:"error-title text-small"},[t._v(" Please "),n("a",{attrs:{href:"#step-1"},on:{click:function(e){return e.preventDefault(),t.jumpToExtensionSetupFunction("#step-1")}}},[t._v("connect your Polkadot account")])]):t._e(),n("br"),"Card"===t.paymentMethod?n("form",{class:{disabled:"extension ready"!==t.extensionStatus},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("div",{staticClass:"inputNumbers m-b-space"},[n("div",{staticClass:"less",on:{click:function(e){return t.setQuantity(-t.pricePerNftInStrgzn)}}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",value:"quantity",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"more",on:{click:function(e){return t.setQuantity(t.pricePerNftInStrgzn)}}},[t._v("+")])]),n("h5",[t._v("Total: "+t._s(t.total)+" USD")]),n("Button",{staticClass:"container-full",attrs:{size:"medium",disabled:!t.checkoutStatus}},[n("span",{staticClass:"text"},[t._v("Pay with")]),n("img",{staticClass:"label",attrs:{alt:"Stripe",src:"i/stripe.svg"}})])],1):t._e(),"KSM"===t.paymentMethod?n("form",{class:{disabled:"extension ready"!==t.extensionStatus},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("div",{staticClass:"inputNumbers m-b-space"},[n("div",{staticClass:"less",on:{click:function(e){return t.setQuantity(-t.pricePerNftInStrgzn)}}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",value:"quantity",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"more",on:{click:function(e){return t.setQuantity(t.pricePerNftInStrgzn)}}},[t._v("+")])]),n("h5",[t._v("Your Statemine KSM balance: "+t._s(this.picoKsmBalance*Math.pow(10,-12))+" ")]),t.pricePerStrgznInPicoKsm?n("h5",[t._v("Total: "+t._s(t.total)+" Statemine KSM")]):n("h5",[t._v("Total: loading price...")]),n("Button",{staticClass:"container-full",attrs:{size:"medium",disabled:!t.checkoutStatus||!t.pricePerStrgznInPicoKsm||!t.isEnoughBalance}},[n("span",{staticClass:"text"},[t._v("Sign")])])],1):t._e(),t.showTransactionInfo?n("TransactionInfoModal",{attrs:{isCreated:!!t.checkoutCryptoTxInfo&&!!t.checkoutCryptoTxInfo.created,isIncluded:!!t.checkoutCryptoTxInfo&&!!t.checkoutCryptoTxInfo.included,isFinalized:!!t.checkoutCryptoTxInfo&&!!t.checkoutCryptoTxInfo.finalized,asCreated:t.checkoutCryptoTxInfo?t.checkoutCryptoTxInfo.created:null,asIncluded:t.checkoutCryptoTxInfo?t.checkoutCryptoTxInfo.included:null,asFinalized:t.checkoutCryptoTxInfo?t.checkoutCryptoTxInfo.finalized:null},on:{closed:function(e){return t.onTransactionInfoClosed()}}}):t._e()],1)},a=[],i=n("1da1"),r=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("b680"),{name:"PurchaseToken",components:{Button:function(){return n.e("chunk-a41c70ae").then(n.bind(null,"e0dab"))},TransactionInfoModal:function(){return n.e("chunk-1d5e69c6").then(n.bind(null,"2c23"))}},props:{extensionStatus:{type:String,default:"loading"},checkoutStatus:Boolean,checkoutCryptoTxInfo:Object,jumpToExtensionSetupFunction:Function,submitHandler:Function,pricePerNftInStrgzn:Number,tokensPurchaseMinMax:Object,pricePerStrgznInCents:Number,pricePerStrgznInPicoKsm:Number,defaultQuantity:Number,picoKsmBalance:Number},data:function(){return{quantity:this.defaultQuantity,paymentMethod:"Card",showTransactionInfo:!1,options:{layout:{color:"black",backgroundColor:"lightgray",selectedColor:"white",selectedBackgroundColor:"blue",borderColor:"black",fontWeight:"normal",fontWeightSelected:"bold",squareCorners:!1,noBorder:!1},size:{width:18},items:{delay:.1,preSelected:"Card",disabled:!1,labels:[{name:"Card",color:"white",backgroundColor:"blue"},{name:"KSM",color:"white",backgroundColor:"blue"}]}}}},methods:{updatePaymentMethod:function(t){this.paymentMethod=t},handleSubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.submitHandler(t.paymentMethod,t.quantity,t.total);case 1:case"end":return e.stop()}}),e)})))()},setQuantity:function(t){this.quantity+t>=this.tokensPurchaseMinMax.max||this.quantity+t<=this.tokensPurchaseMinMax.min||(this.quantity+=t)},onTransactionSigned:function(){this.showTransactionInfo=!0},onTransactionInfoClosed:function(){this.showTransactionInfo=!1,this.$emit("resetCheckoutCryptoTxInfo")}},computed:{total:function(){if("Card"===this.paymentMethod)return(this.quantity*this.pricePerStrgznInCents/100).toFixed(2);if("KSM"===this.paymentMethod)return(this.quantity*(this.pricePerStrgznInPicoKsm*Math.pow(10,-12))).toFixed(6);throw new Error("Unexpected payment method",this.paymentMethod)},isEnoughBalance:function(){return this.picoKsmBalance-.001*Math.pow(10,12)>this.pricePerStrgznInPicoKsm*this.quantity}}}),s=r,u=n("2877"),c=Object(u["a"])(s,o,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b23f1.15068c97.js.map