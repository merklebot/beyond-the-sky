{"version":3,"sources":["webpack:///./src/components/includes/AstronomicalObjectCard.vue?a611","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/components/includes/AstronomicalObjectCard.vue?123f","webpack:///src/components/includes/AstronomicalObjectCard.vue","webpack:///./src/components/includes/AstronomicalObjectCard.vue?4487","webpack:///./src/components/includes/AstronomicalObjectCard.vue?8a61"],"names":["$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","this","undefined","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","callbackfn","arguments","length","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_m","astronomicalObj","_e","_v","_s","_l","astr","key","class","friendly_name","astronomicalObjSelected","makeClassName","kind","catalog_name","on","$event","preventDefault","stopPropagation","setObjFromDetails","$store","state","app","account","nftStatus","domProps","addressShort","address","$discord","directives","name","rawName","value","expression","$$selectedVal","prototype","filter","call","options","o","selected","map","val","_value","multiple","submitStatus","nativeOn","onSubmit","apply","submitMessage","staticRenderFns","props","String","data","nftPrice","orderStatusPollingTimeoutId","components","Button","Stars","iSingular","iTwitter","iDiscord","Loader","computed","astronomicalObjects","beforeDestroy","clearTimeout","watch","setTimeout","methods","getSelectedIndex","str","split","obj","event","closest","open","jump","window","scrollTo","slice","component"],"mappings":"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","file":"js/chunk-01df425f.6ee30cd3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AstronomicalObjectCard.vue?vue&type=style&index=0&id=09567c87&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"wrapper\",attrs:{\"id\":\"step-3\"}},[_vm._m(0),(_vm.astronomicalObj.length == 0)?_c('section',[_vm._m(1)]):_vm._e(),(_vm.astronomicalObj.length > 0)?_c('section',[_c('div',{staticClass:\"layout-narrow\"},[_c('h4',[_vm._v(\"Choose one from \"+_vm._s(_vm.astronomicalObj.length)+\" astronomical objects\")])]),_c('div',{staticClass:\"objects layout-mid\"},_vm._l((_vm.astronomicalObj),function(astr,key){return _c('div',{key:key,staticClass:\"obj\",class:{'active': astr.friendly_name === _vm.astronomicalObjSelected.friendly_name}},[_c('details',{attrs:{\"tabindex\":\"0\"}},[_c('summary',[_c('div',{class:_vm.makeClassName(astr.kind)})]),_c('div',{staticClass:\"obj-expand\"},[_c('ul',[_c('li',[_c('b',[_vm._v(_vm._s(astr.friendly_name))])]),_c('li',[_vm._v(_vm._s(astr.kind))]),_c('li',[_vm._v(_vm._s(astr.catalog_name))])]),(astr.friendly_name !== _vm.astronomicalObjSelected.friendly_name)?_c('div',{staticClass:\"obj-select\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.setObjFromDetails(astr)}}},[_vm._v(\"Select this object\")])]):_vm._e()])])])}),0)]):_vm._e(),(_vm.$store.state.app.account && _vm.astronomicalObjSelected && _vm.nftStatus)?_c('section',{staticClass:\"order layout-narrow\"},[_c('h2',[_vm._v(\"Your order\")]),_c('ul',{staticClass:\"dashed tablelike\"},[_c('li',[_c('span',[_vm._v(\"Account:\")]),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.addressShort(_vm.$store.state.app.account))}})]),_c('li',[_c('span',[_vm._v(\"Object:\")]),_c('span',[_vm._v(_vm._s(_vm.astronomicalObjSelected.friendly_name)+\" - \"+_vm._s(_vm.astronomicalObjSelected.kind))])]),_c('li',[_c('span',[_vm._v(\"Status:\")]),(_vm.nftStatus !== 'done' && _vm.nftStatus !== null)?_c('div',[_c('p',[_c('Loader'),_c('span',[_vm._v(_vm._s(_vm.nftStatus))])],1),_c('p',[_c('a',{attrs:{\"href\":'https://singular.app/space/' + _vm.$store.state.app.account + '?tab=owned&owner=yes',\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Check your NFT(s) \")])])]):_vm._e(),(_vm.nftStatus === 'done')?_c('div',[_c('p',{staticClass:\"title-checked\"},[_vm._v(_vm._s(_vm.nftStatus))])]):_vm._e()]),_c('li',[_c('span',[_vm._v(\"Your next steps:\")]),_c('div',[_c('p',{staticClass:\"order-servicelinks\"},[_c('a',{attrs:{\"href\":'https://singular.app/space/' + _vm.$store.state.app.account + '?tab=owned&owner=yes',\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"title\":\"Check your NFT(s)\"}},[_c('i-singular',{staticClass:\"logo\"})],1),_c('a',{attrs:{\"href\":'https://twitter.com/intent/tweet?text=✨%20Just%20got%20my%20%23NFT%20with%20' + _vm.astronomicalObjSelected.kind + '%20' + _vm.astronomicalObjSelected.friendly_name + '%20from%20online%20telescope%20in%20Atacama%20desert&url=https%3A%2F%2Ftelescope.merklebot.com/%23/?referrer=' + _vm.address,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"title\":\"Share on Twitter\"}},[_c('i-twitter',{staticClass:\"logo\"})],1),_c('a',{attrs:{\"href\":_vm.$discord,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"title\":\"Chat with us in Discord\"}},[_c('i-discord',{staticClass:\"logo\"})],1)])])])])]):_vm._e(),(_vm.astronomicalObj.length > 0)?_c('section',{staticClass:\"order-form layout-narrow\"},[_c('form',[_c('p',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.astronomicalObjSelected),expression:\"astronomicalObjSelected\"}],staticClass:\"container-full\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.astronomicalObjSelected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_vm._l((_vm.astronomicalObj),function(astr,key){return _c('option',{key:key,domProps:{\"value\":astr}},[_vm._v(\" \"+_vm._s(astr.friendly_name)+\" \")])}),(_vm.astronomicalObj.length === 0)?_c('option',[_vm._v(\"Loading...\")]):_vm._e()],2)]),_c('p',[_c('Button',{staticClass:\"container-full\",attrs:{\"disabled\":!_vm.submitStatus},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_vm._v(\"Submit\")])],1),(_vm.submitMessage)?_c('p',{staticClass:\"error-title text-small\",domProps:{\"innerHTML\":_vm._s(_vm.submitMessage)}}):_vm._e()])]):_vm._e(),_c('Stars')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-narrow\"},[_c('h3',[_vm._v(\"3. Enjoy the stars\")]),_c('p',{staticClass:\"hyphens\"},[_vm._v(\"Choose an astronomical object below and hit the submit button. The telescope will start moving and will mint your NFT in a few minutes.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-narrow\"},[_c('h4',[_vm._v(\"Please wait for astronomical objects on the sky. Now they are all invisible\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <section id=\"step-3\" class=\"wrapper\">\n    <div class=\"layout-narrow\">\n      <h3>3. Enjoy the stars</h3>\n      <p class=\"hyphens\">Choose an astronomical object below and hit the submit button. The telescope will start moving and will mint your NFT in a few minutes.</p>\n    </div>\n\n    <section v-if=\"astronomicalObj.length == 0\">\n\n      <div class=\"layout-narrow\">\n        <h4>Please wait for astronomical objects on the sky. Now they are all invisible</h4>\n      </div>\n\n    </section>\n\n    <section v-if=\"astronomicalObj.length > 0\">\n\n      <div class=\"layout-narrow\">\n        <h4>Choose one from {{ astronomicalObj.length }} astronomical objects</h4>\n      </div>\n\n      <div class=\"objects layout-mid\">\n        <div class=\"obj\" v-for=\"(astr, key) in astronomicalObj\" :key=\"key\" :class=\"{'active': astr.friendly_name === astronomicalObjSelected.friendly_name}\">\n          <details tabindex=\"0\">\n            <summary>\n              <div :class=\"makeClassName(astr.kind)\"></div>\n            </summary>\n            <div class=\"obj-expand\">\n              <ul>\n                <li><b>{{astr.friendly_name}}</b></li>\n                <li>{{astr.kind}}</li>\n                <li>{{astr.catalog_name}}</li>\n              </ul>\n\n              <div class=\"obj-select\" v-if=\"astr.friendly_name !== astronomicalObjSelected.friendly_name\">\n                <a href=\"javascript:;\" @click.prevent.stop=\"setObjFromDetails(astr)\">Select this object</a>\n              </div>\n            </div>\n          </details>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"order layout-narrow\" v-if=\"$store.state.app.account && astronomicalObjSelected && nftStatus\">\n      <h2>Your order</h2>\n      <ul class=\"dashed tablelike\">\n        <li>\n          <span>Account:</span>\n          <span v-html=\"addressShort($store.state.app.account)\" />\n        </li>\n        <li>\n          <span>Object:</span>\n          <span>{{ astronomicalObjSelected.friendly_name }} - {{ astronomicalObjSelected.kind }}</span>\n        </li>\n        <li>\n          <span>Status:</span>\n\n          <div v-if=\"nftStatus !== 'done' && nftStatus !== null\">\n            <p>\n              <Loader />\n              <span>{{nftStatus}}</span>\n            </p>\n            <p><a \n              :href=\"'https://singular.app/space/' + $store.state.app.account + '?tab=owned&owner=yes'\" \n              target=\"_blank\" rel=\"noopener noreferrer\">\n              Check your NFT(s)\n            </a></p>\n          </div>\n\n          <div v-if=\"nftStatus === 'done'\">\n            <p class=\"title-checked\">{{nftStatus}}</p>\n          </div>\n        </li>\n\n        <!-- <li v-if=\"nftStatus === 'done'\"> -->\n        <li>\n          <span>Your next steps:</span>\n\n          <div>\n            <p class=\"order-servicelinks\">\n              <a \n                :href=\"'https://singular.app/space/' + $store.state.app.account + '?tab=owned&owner=yes'\" \n                target=\"_blank\" rel=\"noopener noreferrer\"\n                title=\"Check your NFT(s)\">\n                <i-singular class=\"logo\" />\n              </a>\n              <a \n                :href=\"'https://twitter.com/intent/tweet?text=✨%20Just%20got%20my%20%23NFT%20with%20' + astronomicalObjSelected.kind + '%20' + astronomicalObjSelected.friendly_name + '%20from%20online%20telescope%20in%20Atacama%20desert&url=https%3A%2F%2Ftelescope.merklebot.com/%23/?referrer=' + address\" \n                target=\"_blank\" rel=\"noopener noreferrer\"\n                title=\"Share on Twitter\">\n                <i-twitter class=\"logo\" />\n              </a>\n              <a \n              :href=\"$discord\" \n                target=\"_blank\" rel=\"noopener noreferrer\"\n                title=\"Chat with us in Discord\">\n                <i-discord class=\"logo\" />\n              </a>\n            </p>\n          </div>\n        </li>\n      </ul>\n    </section>\n      \n    <section class=\"order-form layout-narrow\" v-if=\"astronomicalObj.length > 0\">\n        <form>\n          <p>\n            <select class=\"container-full\" v-model=\"astronomicalObjSelected\">\n                <option\n                    v-for=\"(astr, key) in astronomicalObj\"\n                    :key=\"key\"\n                    :value=\"astr\"\n                  >\n                  {{ astr.friendly_name }}\n                </option>\n                <option v-if=\"astronomicalObj.length === 0\">Loading...</option>\n            </select>\n          </p>\n      \n          <p>\n            <Button @click.native.prevent=\"onSubmit\" :disabled=\"!submitStatus\" class=\"container-full\">Submit</Button>\n          </p>\n\n          <p class=\"error-title text-small\" v-if=\"submitMessage\" v-html=\"submitMessage\" />\n\n        </form>\n    </section>\n\n    <Stars/>\n  \n  </section>\n    \n</template>\n\n<script>\nimport { createNftOrder, pricePerNFT } from \"../../services/api\";\nimport { sendAsset } from \"../../services/substrate\";\nimport config from \"../../config\";\n\nexport default {\n  props: {\n    address: String,\n  },\n  data() {\n    return {\n      nftPrice: null,\n      astronomicalObjSelected: [],\n      submitStatus: true,\n      submitMessage: null,\n      nftStatus: null,\n      orderStatusPollingTimeoutId: null,\n    };\n  },\n\n  components: {\n    Button: () => import('../includes/Button.vue'),\n    Stars: () => import('../includes/Stars.vue'),\n    iSingular: () => import('../icons/iSingular.vue'),\n    iTwitter: () => import('../icons/iTwitter.vue'),\n    iDiscord: () => import('../icons/iDiscord.vue'),\n    Loader: () => import(\"./Loader.vue\"),\n  },\n\n  computed: {\n    astronomicalObj(){\n      return this.$store.state.astronomicalObjects ? this.$store.state.astronomicalObjects : []\n    }\n  },\n\n  async created(){\n    this.nftPrice = await pricePerNFT();\n  },\n\n  beforeDestroy() {\n    clearTimeout(this.orderStatusPollingTimeoutId)\n  },\n\n  watch: {\n    astronomicalObj: function(){\n      if( this.astronomicalObj.length > 0 ) {\n        if( this.astronomicalObjSelected.length === 0 || this.getSelectedIndex() < 0) {\n          this.astronomicalObjSelected = this.astronomicalObj[0]\n        }\n      }\n    },\n    submitStatus: function() {\n      /* Set button active after some time out (even if there are errors) */\n      if( !this.submitStatus ) {\n        setTimeout(() => {\n          this.submitStatus = true\n          this.submitMessage = null\n        }, 10000);\n      }\n    }\n  },\n\n  methods:{\n    getSelectedIndex(){\n      /* For checking if selected object is still available for telescope */\n      return this.astronomicalObj.findIndex(({ catalog_name }) => catalog_name === this.astronomicalObjSelected.catalog_name)\n    },\n    async onSubmit() {\n      // console.log('onSubmit test ' + this.$store.state.accountActive, this.astronomicalObjSelected, config.ACCESS_TOKEN_RECV_ACCOUNT, config.ID_ASSET)\n\n      /* Onclick first actions */\n      this.submitMessage = null\n      this.submitStatus = false\n      \n      /* First check - Update message */\n\n      // if (!this.$store.state.telescope) {\n      //   this.submitMessage =  'Our telescope is busy. Please try again in 2-3 minutes.'\n      // }\n\n      if (this.$store.state.service.status === 'off') {\n        this.submitMessage =  'Please wait for the telescope to turn on'\n      }\n\n      if(this.$store.state.app.balance < 1) {\n        this.submitMessage =  'Please <a href=\"#step-2\">buy $STRGZN tokens</a>'\n      }\n\n      if(!this.$store.state.app.account || this.$store.state.app.status !== 'extension ready') {\n        this.submitMessage =  'Please <a href=\"#step-1\">connect your account</a>'\n      }\n\n      /* First check - Quit if this happens: */\n      if (\n        this.$store.state.service.status === 'off' ||\n        // !this.$store.state.telescope ||\n        !this.$store.state.app.account || this.$store.state.app.status !== 'extension ready' || \n        this.$store.state.app.balance < 25) {\n\n        return\n      }\n\n      this.nftStatus = 'Waiting for STRGZN spending transaction...'\n\n      /* Send tokens */\n      const success = await sendAsset(this.$store.state.app.account, config.ACCESS_TOKEN_RECV_ACCOUNT, config.ID_ASSET, 25);\n      if (!success) {\n        this.submitMessage =  'Tokens not sent. Please, contact us or try later'\n        return\n      }\n\n      this.nftStatus = 'STRGZN sent. Waiting for the telescope response...'\n      const response = await createNftOrder(this.$store.state.app.account, this.astronomicalObjSelected.catalog_name)\n      console.log('Create NFT:', response)\n\n      const order = response.data\n      this.$store.commit('setActiveOrder', order)\n\n      const updateOrder = () => {\n        this.$store.dispatch('updateActiveOrder')\n        switch (this.$store.state.order?.status) {\n          case 'created':\n            this.nftStatus = `Aiming the telescope on ${this.$store.state.order.astronomical_object_catalog_name}...`\n            break\n          case 'observed':\n            this.nftStatus = 'Image captured, uploading...'\n            break\n          case 'uploaded':\n            // this.nftStatus = `Image and NFT metadata uploaded. IPFS content id is ${this.$store.state.order.nft_metadata_cid}. Minting NFT at RMRK...`\n            this.nftStatus = `Image and NFT metadata uploaded. Minting NFT at RMRK...`\n            break\n          case 'minted':\n            // this.nftStatus = `New NFT created on RMRK platform, extrinsic hash ${this.$store.state.order.nft_mint_extrinsic_hash} (Kusama). Sending to ${this.$store.customer_account_address}...`\n            this.nftStatus = `New NFT created on RMRK platform. Sending...`\n            break\n          case 'delivered':\n            this.nftStatus = 'done'\n            this.submitStatus = true\n            clearTimeout(this.orderStatusPollingTimeoutId)\n            this.$store.commit('setActiveOrder', null)\n            return\n          case 'delayed':\n            this.nftStatus = 'Your order is delayed because the object ordered went out of the field of view. We are sorry about that. We will mint this NFT in the next night.'\n            clearTimeout(this.orderStatusPollingTimeoutId)\n            this.$store.commit('setActiveOrder', null)\n            this.submitStatus = true\n            return\n          case null:\n          case undefined:\n          default:\n            console.error('Bad active order:', this.$store.order)\n            this.nftStatus = 'Unexpected error. Please contact us by Discord or by email.'\n            clearTimeout(this.orderStatusPollingTimeoutId)\n            this.$store.commit('setActiveOrder', null)\n            this.submitStatus = true\n            return\n        }\n\n        this.orderStatusPollingTimeoutId = setTimeout(updateOrder, 3000)\n      }\n      setTimeout(updateOrder, 1000) // wait for active order set\n\n      // const { open } = window.tf.createPopup(config.TYPEFORM_ID);\n      // open();\n    },\n\n    makeClassName(str) {\n      return str.split(' ').join('')\n    },\n\n    setObjFromDetails(obj) {\n      this.astronomicalObjSelected = obj\n      event.target.closest('details').open = false\n    },\n\n    jump(anchor) {\n      /* Jump to anchor */\n      window.scrollTo({\n          top: document.querySelector(anchor).offsetTop,\n          behavior: \"smooth\"\n      })\n    },\n\n    addressShort(address) {\n      return address.slice(0, 6) + \"...\" + address.slice(-4);\n    },\n  }\n}\n</script>\n\n\n<style scoped>\n  .wrapper {\n    /* background-image: linear-gradient(var(--color-blue-darkest), #001E49, #00323C); */\n    background-image: \n    radial-gradient(\n      ellipse\n      farthest-corner at 45px 45px,\n      var(--color-blue) 0%,\n      var(--color-blue-darkest) 30%,\n      #000 55%,\n      var(--color-blue) 90%\n    );\n    position: relative;\n    border-top: var(--space) solid var(--color-blue)\n  }\n\n  .order-form, .order {\n    position: relative;\n    z-index: 1;\n  }\n\n  select {\n    text-align: center;\n  }\n\n  .objects {\n    position: relative;\n    width: 100%;\n    height: 300px;\n    z-index: 2;\n    /* margin-bottom: calc(var(--padding) * 2); */\n  }\n\n  .obj {\n    position: absolute;\n  }\n\n  .obj summary::-webkit-details-marker, .obj summary::marker { display: none; }\n  .obj summary, .obj summary { list-style: none; }\n\n  .obj summary {\n    width: 3rem;\n    height: 3rem;\n    cursor: pointer;\n\n    padding: 10px;\n    border-radius: 100%;\n  }\n\n  .obj summary div {\n    width: 100%;\n    height: 100%;\n    background-color: var(--color-cyan);\n\n    -webkit-mask: url('/i/obj-Star.svg') no-repeat center;\n    mask: url('/i/obj-Star.svg') no-repeat center;\n  }\n\n  .obj details[open] summary div {\n    background-color: var(--color-white);\n  }\n\n  .obj.active summary {\n    border: 1px solid var(--color-yellow);\n  }\n\n  .obj.active summary div {\n    background-color: var(--color-yellow);\n  }\n  \n  .obj summary .Nebula {\n    -webkit-mask: url('/i/obj-Nebula.svg') no-repeat center;\n    mask: url('/i/obj-Nebula.svg') no-repeat center;\n  }\n\n  .obj summary .SpiralGalaxy {\n    -webkit-mask: url('/i/obj-SpiralGalaxy.svg') no-repeat center;\n    mask: url('/i/obj-SpiralGalaxy.svg') no-repeat center;\n  }\n\n  .obj summary .GlobularCluster {\n    -webkit-mask: url('/i/obj-GlobularCluster.svg') no-repeat center;\n    mask: url('/i/obj-GlobularCluster.svg') no-repeat center;\n  }\n\n  .obj summary .Galaxy {\n    -webkit-mask: url('/i/obj-Galaxy.svg') no-repeat center;\n    mask: url('/i/obj-Galaxy.svg') no-repeat center;\n  }\n\n  .obj:nth-child(1) { top: 60%; left: 40%; }\n  .obj:nth-child(2) { top: 10%; left: 60%; }\n  .obj:nth-child(3) { top: 30%; left: 25%; }\n  .obj:nth-child(4) { top: 92%; left: 33%; }\n  .obj:nth-child(5) { top: 70%; left: 53%; }\n  .obj:nth-child(6) { top: 21%; left: 46%; }\n  .obj:nth-child(7) { top: 90%; left: 66%; }\n  .obj:nth-child(8) { top: 14%; left: 80%; }\n  .obj:nth-child(9) { top: 8%; left: 19%; }\n  .obj:nth-child(10) { top: 59%; left: 72%; }\n\n  .obj-expand {\n    background-color: var(--color-white);\n    border: 1px solid var(--color-blue-darkest);\n    padding: var(--space);\n    border-radius: calc(var(--space) * 0.5);\n    color: var(--color-blue-darkest);\n\n    position: relative;\n    z-index: 1;\n    margin-top: var(--padding);\n  }\n\n  .obj-expand:before {\n    content:\"\";\n    position: absolute;\n    top: calc(var(--padding) * (-1));\n    left: 1.5rem;\n    width: 1px;\n    height: var(--padding);\n    background-color: var(--color-white);\n  }\n\n  .obj-expand ul {\n    list-style: none;\n    font-size: 80%;\n  }\n\n  .obj-expand ul li {\n    padding: calc(var(--space) * 0.5) 0;\n  }\n\n  .obj-expand ul li:not(:last-child) {\n    border-bottom: 1px dashed var(--color-blue-darkest);\n    padding-bottom: 0;\n  }\n\n  .obj-select a {\n    font-size: 80%;\n    color: var(--color-lilac);\n    font-weight: bold;\n  }\n\n  @media screen and (min-width: 500px) {\n    .obj summary { width: 4rem; height: 4rem; }\n    .obj-expand:before { left: 2rem; }\n  }\n\n  @media screen and (min-width: 1200px) {\n    .obj summary { width: 5rem; height: 5rem; }\n    .obj-expand:before { left: 2.5rem; }\n  }\n\n\n  /* Order block */\n  .order {\n    background-color: rgba(var(--color-lilac-rgb), 0.5);\n    border: 2px solid var(--color-lilac);\n    border-radius: 2rem;\n    color: var(--color-white);\n    padding: calc(var(--space) * 2);\n    margin-top: calc(var(--space) * 3);\n    font-weight: bold;\n  }\n\n  .order h2 {\n    text-transform: none;\n    font-size: 3rem;\n  }\n\n  .order a {\n    color: var(--color-yellow)\n  }\n\n  .order a:hover {\n    color: var(--color-orange)\n  }\n\n  .order .loader {\n    border-color: var(--color-white);\n  }\n\n  .order-servicelinks > * {\n    display: inline-block;\n    vertical-align: middle;\n    margin-right: calc(var(--space) * 1.5);\n  }\n\n  .order-servicelinks .logo {\n    max-height: 30px;\n    display: block;\n    width: 100%\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AstronomicalObjectCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AstronomicalObjectCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AstronomicalObjectCard.vue?vue&type=template&id=09567c87&scoped=true&\"\nimport script from \"./AstronomicalObjectCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AstronomicalObjectCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AstronomicalObjectCard.vue?vue&type=style&index=0&id=09567c87&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09567c87\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}